<!doctype html><html lang=zh-Hant-TW><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D;--font-size:17.5px}.highlight{position:relative}.copy-btn{position:absolute;top:10px;right:10px;background:#000;color:#fff;border:none;padding:5px 10px;font-size:12px;border-radius:3px;cursor:pointer;opacity:.1;transition:opacity .2s ease-in-out}.copy-btn:hover{opacity:1}</style><title>在 Mac/Linux/WSL 安裝多版本 Go</title>
<meta name=description content="使用 Golang 官方機制的多版本安裝法。"><meta name=keywords content='blog,coding,golang,manage,install,version'><meta property="og:url" content="https://jakrh.github.io/posts/20250328-multi-version-go/"><meta property="og:type" content="website"><meta property="og:title" content="在 Mac/Linux/WSL 安裝多版本 Go"><meta property="og:description" content="使用 Golang 官方機制的多版本安裝法。"><meta property="og:image" content="https://jakrh.github.io/"><meta property="og:image:secure_url" content="https://jakrh.github.io/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="在 Mac/Linux/WSL 安裝多版本 Go"><meta name=twitter:description content="使用 Golang 官方機制的多版本安裝法。"><meta property="twitter:domain" content="https://jakrh.github.io/posts/20250328-multi-version-go/"><meta property="twitter:url" content="https://jakrh.github.io/posts/20250328-multi-version-go/"><meta name=twitter:image content="https://jakrh.github.io/"><link rel=canonical href=https://jakrh.github.io/posts/20250328-multi-version-go/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.a036ebe92c17ea3f0c07761c2135b82bec6f37c8efb7f49ddad1f28c22fc4769.js integrity="sha256-oDbr6SwX6j8MB3YcITW4K+xvN8jvt/Sd2tHyjCL8R2k="></script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=nav-title><a class=nav-brand href=https://jakrh.github.io/>Jakr Hung's Learning Notes</a></div><div class=nav-links><div class=nav-link><a href=https://jakrh.github.io/posts/ aria-label>Posts</a></div><div class=nav-link><a href=https://jakrh.github.io/tags/ aria-label>Tags</a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a aria-hidden=true role=switch><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a aria-checked=false aria-labelledby=hamburger-menu-toggle id=hamburger-menu-toggle-target role=switch><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://jakrh.github.io/posts/>Posts</a></li><li class=nav-item><a href=https://jakrh.github.io/tags/>Tags</a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a role=switch><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>在 Mac/Linux/WSL 安裝多版本 Go</h1><small role=doc-subtitle>使用 Golang 官方機制的多版本安裝法。</small><p class=post-date>2025-03-28</p><ul class=post-tags><li class=post-tag><a href=https://jakrh.github.io/tags/golang>golang</a></li><li class=post-tag><a href=https://jakrh.github.io/tags/manage>manage</a></li><li class=post-tag><a href=https://jakrh.github.io/tags/install>install</a></li><li class=post-tag><a href=https://jakrh.github.io/tags/version>version</a></li></ul></div><div class=post-content><h2 id=腳本限制>腳本限制</h2><ol><li>CPU 只支援 x86-64 或 ARM64， 作業系統只支援 Linux、macOS 以及 WSL。其他的類 Unix 系統要自行調整 <code>kernel</code> 與 <code>machine</code> 變數，安裝包檔名列表可見 <a href=https://go.dev/dl/>https://go.dev/dl/</a> 。</li><li>Go 版本須大於 1.20，否則切換版本時的安裝路徑會有所不同。</li></ol><h2 id=列出可安裝的-go-版本-只選大於-120-的版本>列出可安裝的 Go 版本 (只選大於 1.20 的版本)</h2><ol><li><p>瀏覽 <a href=https://github.com/golang/dl>https://github.com/golang/dl</a></p></li><li><p>用命令列方式，需要 <code>jq</code> 指令</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>curl -s https://api.github.com/repos/golang/dl/contents <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#ae81ff></span>  | jq -r <span style=color:#e6db74>&#39;.[] | select(.type==&#34;dir&#34;) | .name&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span><span style=color:#ae81ff></span>  | grep <span style=color:#e6db74>&#34;^go*&#34;</span> --color<span style=color:#f92672>=</span>never <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span><span style=color:#ae81ff></span>  | sort -V
</span></span></code></pre></div></li></ol><h2 id=安裝第一個版本-要修改-gover>安裝第一個版本 (要修改 <code>gover</code>)</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>set -ue
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span><span style=color:#75715e># Set your target go version</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>gover<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1.24.1&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span><span style=color:#75715e># Set variables</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>extension<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;tar.gz&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>kernel<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>uname -s | tr <span style=color:#e6db74>&#39;[:upper:]&#39;</span> <span style=color:#e6db74>&#39;[:lower:]&#39;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>machine<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>uname -m<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$machine<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;x86_64&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>    machine<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;amd64&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span><span style=color:#66d9ef>elif</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$machine<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aarch64&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>    machine<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;arm64&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span><span style=color:#75715e># Create directory for go installation</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>mkdir -p <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/sdk&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span><span style=color:#75715e># Download Go and install for the target version</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span>filename<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>.</span><span style=color:#e6db74>${</span>kernel<span style=color:#e6db74>}</span><span style=color:#e6db74>-</span><span style=color:#e6db74>${</span>machine<span style=color:#e6db74>}</span><span style=color:#e6db74>.</span><span style=color:#e6db74>${</span>extension<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span>curl -Lo <span style=color:#e6db74>&#34;/tmp/</span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;https://go.dev/dl/</span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span><span style=color:#ae81ff></span>  tar -xzf <span style=color:#e6db74>&#34;/tmp/</span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> -C <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/sdk&#34;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span><span style=color:#ae81ff></span>  rm <span style=color:#e6db74>&#34;/tmp/</span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span><span><span style=color:#75715e># Set the go version has been installed for Go wrapper</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26</span><span>touch <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/sdk/go/.unpacked-success&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28</span><span><span style=color:#75715e># Move the installed go installation directory for Go wrapper</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29</span><span>mv <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/sdk/go&#34;</span> <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/sdk/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31</span><span><span style=color:#75715e># Install Go wrapper for this version</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32</span><span><span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/sdk/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>/bin/go&#34;</span> install <span style=color:#e6db74>&#34;golang.org/dl/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>@latest&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34</span><span><span style=color:#75715e># Check if the goVERSION command works</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35</span><span><span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> version
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37</span><span><span style=color:#75715e># Set the goVERSION command to go command</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38</span><span>ln -sf <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin/go&#34;</span>
</span></span></code></pre></div><h2 id=把-go-指令路徑加入-path-環境變數>把 <code>go</code> 指令路徑加入 <code>PATH</code> 環境變數</h2><h3 id=加入這行進-zprofile-新版-mac-或-bash_profile-linux-與舊版-mac>加入這行進 <code>~/.zprofile</code> (新版 Mac) 或 <code>~/.bash_profile</code> (Linux 與舊版 Mac)</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>export PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin:</span>$PATH<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><h3 id=讓-path-設定的變更生效>讓 <code>PATH</code> 設定的變更生效</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>. ~/.zprofile
</span></span></code></pre></div><p>或</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>. ~/.bash_profile
</span></span></code></pre></div><h3 id=檢查-go-指令是否生效>檢查 <code>go</code> 指令是否生效</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>go version
</span></span></code></pre></div><hr><h2 id=安裝另一個版本-要修改-gover>安裝另一個版本 (要修改 <code>gover</code>)</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>set -ue
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span><span style=color:#75715e># Set your target go version</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>gover<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1.24.2&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span><span style=color:#75715e># Set variables</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>extension<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;tar.gz&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>kernel<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>uname -s | tr <span style=color:#e6db74>&#39;[:upper:]&#39;</span> <span style=color:#e6db74>&#39;[:lower:]&#39;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>machine<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>uname -m<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$machine<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;x86_64&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>    machine<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;amd64&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span><span style=color:#66d9ef>elif</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$machine<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;aarch64&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>    machine<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;arm64&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span><span style=color:#75715e># Install Go wrapper file for the target version</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>go install <span style=color:#e6db74>&#34;golang.org/dl/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>@latest&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span><span style=color:#75715e># Download Go for the target version</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span><span style=color:#e6db74>&#34;go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> download
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span><span style=color:#75715e># Remove the downloaded archive file</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span>filename<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>.</span><span style=color:#e6db74>${</span>kernel<span style=color:#e6db74>}</span><span style=color:#e6db74>-</span><span style=color:#e6db74>${</span>machine<span style=color:#e6db74>}</span><span style=color:#e6db74>.</span><span style=color:#e6db74>${</span>extension<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span>rm <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/sdk/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>/</span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26</span><span><span style=color:#75715e># Set the goVERSION command to go command</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27</span><span>ln -sf <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin/go&#34;</span>
</span></span></code></pre></div><h3 id=檢查-go-指令是否生效-1>檢查 <code>go</code> 指令是否生效</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>go version
</span></span></code></pre></div><hr><h2 id=切換-go-版本>切換 Go 版本</h2><h3 id=列出已安裝的-go-版本>列出已安裝的 Go 版本</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>ls <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/sdk&#34;</span> | grep <span style=color:#e6db74>&#34;^go&#34;</span> --color<span style=color:#f92672>=</span>never
</span></span></code></pre></div><h3 id=切換成你想要的-go-版本例如-1242>切換成你想要的 Go 版本，例如 <code>1.24.2</code></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>gover<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1.24.2&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>ln -sf <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin/go&#34;</span>
</span></span></code></pre></div><h3 id=檢查版本切換是否成功>檢查版本切換是否成功</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>go version
</span></span></code></pre></div><hr><h2 id=移除已安裝的-go-版本>移除已安裝的 Go 版本</h2><h3 id=列出已安裝的-go-版本-1>列出已安裝的 Go 版本</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>ls <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/sdk&#34;</span> | grep <span style=color:#e6db74>&#34;^go&#34;</span> --color<span style=color:#f92672>=</span>never
</span></span></code></pre></div><h3 id=先把-go-指令指向你要保留的版本例如-1242>先把 <code>go</code> 指令指向你要保留的版本，例如 <code>1.24.2</code></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>gover<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1.24.2&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>ln -sf <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin/go&#34;</span>
</span></span></code></pre></div><h3 id=檢查版本切換是否成功-1>檢查版本切換是否成功</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>go version
</span></span></code></pre></div><h3 id=移除你想移除的-go-版本例如-1241>移除你想移除的 Go 版本，例如 <code>1.24.1</code></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>set -ue
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span><span style=color:#75715e># Set the go version you want to remove</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>gover<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1.24.1&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span><span style=color:#75715e># Remove</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span>rm -rf <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/sdk/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span><span>rm <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/go/bin/go</span><span style=color:#e6db74>${</span>gover<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><h2 id=參考文獻>參考文獻</h2><ol><li><a href=https://go.dev/doc/manage-install>https://go.dev/doc/manage-install</a></li><li><a href=https://polarisxu.studygolang.com/posts/go/managing-multiple-go-versions/>https://polarisxu.studygolang.com/posts/go/managing-multiple-go-versions/</a></li><li><a href=https://lakefs.io/blog/managing-multiple-go-versions-with-go/>https://lakefs.io/blog/managing-multiple-go-versions-with-go/</a></li></ol></div><div class=prev-next></div></div><aside class=post-toc><nav id=toc><nav id=TableOfContents><ol><li><a href=#腳本限制>腳本限制</a></li><li><a href=#列出可安裝的-go-版本-只選大於-120-的版本>列出可安裝的 Go 版本 (只選大於 1.20 的版本)</a></li><li><a href=#安裝第一個版本-要修改-gover>安裝第一個版本 (要修改 <code>gover</code>)</a></li><li><a href=#把-go-指令路徑加入-path-環境變數>把 <code>go</code> 指令路徑加入 <code>PATH</code> 環境變數</a><ol><li><a href=#加入這行進-zprofile-新版-mac-或-bash_profile-linux-與舊版-mac>加入這行進 <code>~/.zprofile</code> (新版 Mac) 或 <code>~/.bash_profile</code> (Linux 與舊版 Mac)</a></li><li><a href=#讓-path-設定的變更生效>讓 <code>PATH</code> 設定的變更生效</a></li><li><a href=#檢查-go-指令是否生效>檢查 <code>go</code> 指令是否生效</a></li></ol></li><li><a href=#安裝另一個版本-要修改-gover>安裝另一個版本 (要修改 <code>gover</code>)</a><ol><li><a href=#檢查-go-指令是否生效-1>檢查 <code>go</code> 指令是否生效</a></li></ol></li><li><a href=#切換-go-版本>切換 Go 版本</a><ol><li><a href=#列出已安裝的-go-版本>列出已安裝的 Go 版本</a></li><li><a href=#切換成你想要的-go-版本例如-1242>切換成你想要的 Go 版本，例如 <code>1.24.2</code></a></li><li><a href=#檢查版本切換是否成功>檢查版本切換是否成功</a></li></ol></li><li><a href=#移除已安裝的-go-版本>移除已安裝的 Go 版本</a><ol><li><a href=#列出已安裝的-go-版本-1>列出已安裝的 Go 版本</a></li><li><a href=#先把-go-指令指向你要保留的版本例如-1242>先把 <code>go</code> 指令指向你要保留的版本，例如 <code>1.24.2</code></a></li><li><a href=#檢查版本切換是否成功-1>檢查版本切換是否成功</a></li><li><a href=#移除你想移除的-go-版本例如-1241>移除你想移除的 Go 版本，例如 <code>1.24.1</code></a></li></ol></li><li><a href=#參考文獻>參考文獻</a></li></ol></nav></nav></aside></main><footer class=footer><span>© 2024 <a href=mailto:lhhungx@gmail.com>Jakr Hung</a>. Powered by <a href=https://gohugo.io/ target=_blank rel='noopener noreferrer'>Hugo</a>. Content licensed under <a href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank rel='noopener noreferrer'>CC BY-NC-ND 4.0</a>.</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/gokarna-theme/gokarna-hugo>Gokarna</a></span></footer><script>document.querySelectorAll("pre").forEach(e=>{const n=e.querySelector("code");if(!n)return;if(!n.querySelector("span"))return;const t=document.createElement("button");t.className="copy-btn",t.textContent="Copy",t.onclick=()=>{const e=Array.from(n.children).map(e=>{const t=Array.from(e.children);return t.filter(e=>!e.style.userSelect).map(e=>e.textContent).join("")}).join("");navigator.clipboard.writeText(e).then(()=>{t.textContent="Copied!",setTimeout(()=>t.textContent="Copy",1500)}).catch(e=>console.error("Failed to copy",e))},e.parentNode.insertBefore(t,e)})</script></body></html>